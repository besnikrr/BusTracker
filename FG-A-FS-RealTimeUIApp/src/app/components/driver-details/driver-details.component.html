<div class="w-full" [ngClass]="clicked ? 'hoverActive' : ''" *ngIf="driver">
  <div class="flex flex-col px-8 py-2.5 text-dark driverContainer">
    <div class="flex justify-between flex-row mt-2">
      <div class="flex flex-col mt-1 mb-2">
        <h3 class="driverName capitalize flex-col text-xl">
          {{ driver.driver.firstName + " " + driver.driver.lastName }}
        </h3>
        <div class="flex">
          <ng-container *ngIf="bus; else elsePhoneTemp">
            <mat-icon class="mr-1 material-icons-outlined phoneIcon"> phone</mat-icon>
            <span class="text-light">{{ driver.driver.phoneNumber }}</span>
          </ng-container>
          <ng-template #elsePhoneTemp>
            <mat-icon class="mr-1 material-icons-outlined phoneIcon"> phone</mat-icon>
            <span class="text-light">Not Available</span>
          </ng-template>
        </div>
      </div>
      <ng-container *ngIf="bus; else elseTemp">
        <button class="zoomIn button-outline" (click)="onViewBus()" id="viewBus">
          <svg width="21" height="21" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
            <mask
              id="mask0_584_1001"
              style="mask-type: alpha"
              maskUnits="userSpaceOnUse"
              x="0"
              y="0"
              width="20"
              height="20">
              <rect width="20" height="20" fill="#007AC9" />
            </mask>
            <g mask="url(#mask0_584_1001)">
              <path
                d="M10 19.125C9.764 19.125 9.559 19.0383 9.385 18.865C9.21167 18.691 9.125 18.486 9.125 18.25V17.438C7.43033 17.2433 5.96167 16.5243 4.719 15.281C3.47567 14.0383 2.75667 12.5697 2.562 10.875H1.75C1.514 10.875 1.309 10.7883 1.135 10.615C0.961667 10.441 0.875 10.236 0.875 10C0.875 9.764 0.961667 9.559 1.135 9.385C1.309 9.21167 1.514 9.125 1.75 9.125H2.562C2.75667 7.43033 3.47567 5.96167 4.719 4.719C5.96167 3.47567 7.43033 2.75667 9.125 2.562V1.75C9.125 1.514 9.21167 1.309 9.385 1.135C9.559 0.961667 9.764 0.875 10 0.875C10.236 0.875 10.441 0.961667 10.615 1.135C10.7883 1.309 10.875 1.514 10.875 1.75V2.562C12.5697 2.75667 14.0383 3.47567 15.281 4.719C16.5243 5.96167 17.2433 7.43033 17.438 9.125H18.25C18.486 9.125 18.691 9.21167 18.865 9.385C19.0383 9.559 19.125 9.764 19.125 10C19.125 10.236 19.0383 10.441 18.865 10.615C18.691 10.7883 18.486 10.875 18.25 10.875H17.438C17.2433 12.5697 16.5243 14.0383 15.281 15.281C14.0383 16.5243 12.5697 17.2433 10.875 17.438V18.25C10.875 18.486 10.7883 18.691 10.615 18.865C10.441 19.0383 10.236 19.125 10 19.125ZM10 15.729C11.5973 15.729 12.9513 15.1733 14.062 14.062C15.1733 12.9513 15.729 11.5973 15.729 10C15.729 8.40267 15.1733 7.04867 14.062 5.938C12.9513 4.82667 11.5973 4.271 10 4.271C8.40267 4.271 7.04867 4.82667 5.938 5.938C4.82667 7.04867 4.271 8.40267 4.271 10C4.271 11.5973 4.82667 12.9513 5.938 14.062C7.04867 15.1733 8.40267 15.729 10 15.729ZM10 13.396C9.06933 13.396 8.27067 13.0627 7.604 12.396C6.93733 11.7293 6.604 10.9307 6.604 10C6.604 9.06933 6.93733 8.27067 7.604 7.604C8.27067 6.93733 9.06933 6.604 10 6.604C10.9307 6.604 11.7293 6.93733 12.396 7.604C13.0627 8.27067 13.396 9.06933 13.396 10C13.396 10.9307 13.0627 11.7293 12.396 12.396C11.7293 13.0627 10.9307 13.396 10 13.396ZM10 11.646C10.4447 11.646 10.83 11.4827 11.156 11.156C11.4827 10.83 11.646 10.4447 11.646 10C11.646 9.55533 11.4827 9.17 11.156 8.844C10.83 8.51733 10.4447 8.354 10 8.354C9.55533 8.354 9.17 8.51733 8.844 8.844C8.51733 9.17 8.354 9.55533 8.354 10C8.354 10.4447 8.51733 10.83 8.844 11.156C9.17 11.4827 9.55533 11.646 10 11.646Z"
                fill="#007AC9" />
            </g>
          </svg>
          Zoom In
        </button>
      </ng-container>
      <ng-template #elseTemp>
        <button
          class="diasabeldButton button-outline"
          id="viewBus"
          style="color: #c1c1c1; border-color: #c1c1c1; pointer-events: none">
          <svg
            width="21"
            height="21"
            viewBox="0 0 20 20"
            fill="#949494"
            xmlns="http://www.w3.org/2000/svg">
            <mask
              id="mask0_584_1001"
              style="mask-type: alpha"
              maskUnits="userSpaceOnUse"
              x="0"
              y="0"
              width="20"
              height="20">
              <rect width="20" height="20" fill="#949494" />
            </mask>
            <g mask="url(#mask0_584_1001)">
              <path
                d="M10 19.125C9.764 19.125 9.559 19.0383 9.385 18.865C9.21167 18.691 9.125 18.486 9.125 18.25V17.438C7.43033 17.2433 5.96167 16.5243 4.719 15.281C3.47567 14.0383 2.75667 12.5697 2.562 10.875H1.75C1.514 10.875 1.309 10.7883 1.135 10.615C0.961667 10.441 0.875 10.236 0.875 10C0.875 9.764 0.961667 9.559 1.135 9.385C1.309 9.21167 1.514 9.125 1.75 9.125H2.562C2.75667 7.43033 3.47567 5.96167 4.719 4.719C5.96167 3.47567 7.43033 2.75667 9.125 2.562V1.75C9.125 1.514 9.21167 1.309 9.385 1.135C9.559 0.961667 9.764 0.875 10 0.875C10.236 0.875 10.441 0.961667 10.615 1.135C10.7883 1.309 10.875 1.514 10.875 1.75V2.562C12.5697 2.75667 14.0383 3.47567 15.281 4.719C16.5243 5.96167 17.2433 7.43033 17.438 9.125H18.25C18.486 9.125 18.691 9.21167 18.865 9.385C19.0383 9.559 19.125 9.764 19.125 10C19.125 10.236 19.0383 10.441 18.865 10.615C18.691 10.7883 18.486 10.875 18.25 10.875H17.438C17.2433 12.5697 16.5243 14.0383 15.281 15.281C14.0383 16.5243 12.5697 17.2433 10.875 17.438V18.25C10.875 18.486 10.7883 18.691 10.615 18.865C10.441 19.0383 10.236 19.125 10 19.125ZM10 15.729C11.5973 15.729 12.9513 15.1733 14.062 14.062C15.1733 12.9513 15.729 11.5973 15.729 10C15.729 8.40267 15.1733 7.04867 14.062 5.938C12.9513 4.82667 11.5973 4.271 10 4.271C8.40267 4.271 7.04867 4.82667 5.938 5.938C4.82667 7.04867 4.271 8.40267 4.271 10C4.271 11.5973 4.82667 12.9513 5.938 14.062C7.04867 15.1733 8.40267 15.729 10 15.729ZM10 13.396C9.06933 13.396 8.27067 13.0627 7.604 12.396C6.93733 11.7293 6.604 10.9307 6.604 10C6.604 9.06933 6.93733 8.27067 7.604 7.604C8.27067 6.93733 9.06933 6.604 10 6.604C10.9307 6.604 11.7293 6.93733 12.396 7.604C13.0627 8.27067 13.396 9.06933 13.396 10C13.396 10.9307 13.0627 11.7293 12.396 12.396C11.7293 13.0627 10.9307 13.396 10 13.396ZM10 11.646C10.4447 11.646 10.83 11.4827 11.156 11.156C11.4827 10.83 11.646 10.4447 11.646 10C11.646 9.55533 11.4827 9.17 11.156 8.844C10.83 8.51733 10.4447 8.354 10 8.354C9.55533 8.354 9.17 8.51733 8.844 8.844C8.51733 9.17 8.354 9.55533 8.354 10C8.354 10.4447 8.51733 10.83 8.844 11.156C9.17 11.4827 9.55533 11.646 10 11.646Z"
                fill="#949494" />
            </g>
          </svg>
          Zoom In
        </button>
      </ng-template>
    </div>
    <ng-container *ngIf="bus; else elseTemplate">
      <div class="flex justify-between flex-row md:flex-row" *ngFor="let items of [1, 2, 3, 4]">
        <div class="flex flex-col">
          <div>
            <span class="routeName text-lg">Route {{ driver.route.name }}</span>
            <span class="flex flex-row">
              <span class="flex text-sm text-dark capitalize items-center">
                <svg
                  class="mr-2"
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <rect x="6.66663" y="11.6667" width="6.66667" height="3.33333" fill="#212121" />
                  <rect x="7.5" y="4.16666" width="5" height="1.66667" fill="#212121" />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M7.66663 2.91666H12.3333C14.5089 2.91666 16.3429 4.37935 16.9056 6.37499L3.09436 6.37499C3.657 4.37935 5.491 2.91666 7.66663 2.91666ZM2.91685 7.61952L2.91663 7.66666V9.58332L17.0833 9.58332V7.66666L17.0831 7.61951C17.0558 7.62312 17.0281 7.62499 16.9999 7.62499L2.99988 7.62499C2.97173 7.62499 2.94402 7.62313 2.91685 7.61952ZM18.3333 9.58332V7.66666C18.3333 4.35296 15.647 1.66666 12.3333 1.66666H7.66663C4.35292 1.66666 1.66663 4.35296 1.66663 7.66666V9.58332V10.8333V14.6667C1.66663 15.664 2.39661 16.4908 3.35142 16.642C3.33942 16.7039 3.33313 16.7679 3.33313 16.8333V17.3333C3.33313 17.8856 3.78085 18.3333 4.33313 18.3333H6.4998C7.05208 18.3333 7.4998 17.8856 7.4998 17.3333V16.8333C7.4998 16.7765 7.49506 16.7209 7.48597 16.6667H12.5137C12.5046 16.7209 12.4999 16.7765 12.4999 16.8333V17.3333C12.4999 17.8856 12.9476 18.3333 13.4999 18.3333H15.6665C16.2188 18.3333 16.6665 17.8856 16.6665 17.3333V16.8333C16.6665 16.7679 16.6603 16.7039 16.6483 16.642C17.6032 16.4909 18.3333 15.6641 18.3333 14.6667V10.8333V9.58332ZM17.0833 10.8333L2.91663 10.8333V14.6667C2.91663 15.0809 3.25241 15.4167 3.66663 15.4167H16.3333C16.7475 15.4167 17.0833 15.0809 17.0833 14.6667V10.8333Z"
                    fill="#212121" />
                  <circle cx="4.99996" cy="14.1667" r="0.833333" fill="#212121" />
                  <circle cx="15" cy="14.1667" r="0.833333" fill="#212121" />
                  <circle cx="14.1667" cy="5" r="0.833333" fill="#212121" />
                  <circle cx="5.83333" cy="5" r="0.833333" fill="#212121" />
                </svg>
              </span>
              <span class="text-light">{{ bus.vehicle.properties.name }}</span>
            </span>
          </div>
        </div>
        <div *ngIf="bus" class="flex flex-col md:flex-row">
          <div class="flex flex-col mt-2">
            <span class="routeTime">{{ getPlannedRouteTime() }}</span>
            <span class="busStatus"> Completed</span>
          </div>
          <div class="mt-1 ml-1">
            <button
              class="button-outline-details button-outline text-sm mb-2"
              id="viewDetailsBtn"
              (click)="onViewDetailsClick()">
              <svg
                class="svg-icon"
                style="
                  width: 500.83px;
                  height: 1em;
                  vertical-align: middle;
                  fill: currentColor;
                  overflow: hidden;
                  font-size: 30px;
                "
                viewBox="0 0 1024 1024"
                version="1.1">
                <path
                  d="M426.666667 810.666667a42.666667 42.666667 0 0 1-27.306667-9.813334 42.666667 42.666667 0 0 1-5.546667-60.16L584.96 512 400.64 282.88a42.666667 42.666667 0 0 1 6.4-60.16 42.666667 42.666667 0 0 1 62.293333 6.4l206.08 256a42.666667 42.666667 0 0 1 0 54.186667l-213.333333 256A42.666667 42.666667 0 0 1 426.666667 810.666667z" />
              </svg>
            </button>
          </div>
        </div>
      </div>
    </ng-container>
    <ng-template #elseTemplate>
      <span class="notAssignedText text-base mb-2 mt-2">Not Assigned</span>
    </ng-template>
  </div>
</div>
