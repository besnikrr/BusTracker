<div *ngIf="!busData?.items" class="not-assigned-container ml-8">
  <div class="flex flex-col" *ngFor="let item of busData?.items">
    <div class="flex flex-row justify-between">
      <div class="bus-properties mt-2.5">
        <h3 class="bus-name uppercase">{{ item.fleetNumber }}</h3>
        <span class="flex text-sm text-light capitalize items-center">
          <svg
            class="mr-0.5"
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <rect x="6.66663" y="11.6667" width="6.66667" height="3.33333" fill="#212121" />
            <rect x="7.5" y="4.16666" width="5" height="1.66667" fill="#212121" />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M7.66663 2.91666H12.3333C14.5089 2.91666 16.3429 4.37935 16.9056 6.37499L3.09436 6.37499C3.657 4.37935 5.491 2.91666 7.66663 2.91666ZM2.91685 7.61952L2.91663 7.66666V9.58332L17.0833 9.58332V7.66666L17.0831 7.61951C17.0558 7.62312 17.0281 7.62499 16.9999 7.62499L2.99988 7.62499C2.97173 7.62499 2.94402 7.62313 2.91685 7.61952ZM18.3333 9.58332V7.66666C18.3333 4.35296 15.647 1.66666 12.3333 1.66666H7.66663C4.35292 1.66666 1.66663 4.35296 1.66663 7.66666V9.58332V10.8333V14.6667C1.66663 15.664 2.39661 16.4908 3.35142 16.642C3.33942 16.7039 3.33313 16.7679 3.33313 16.8333V17.3333C3.33313 17.8856 3.78085 18.3333 4.33313 18.3333H6.4998C7.05208 18.3333 7.4998 17.8856 7.4998 17.3333V16.8333C7.4998 16.7765 7.49506 16.7209 7.48597 16.6667H12.5137C12.5046 16.7209 12.4999 16.7765 12.4999 16.8333V17.3333C12.4999 17.8856 12.9476 18.3333 13.4999 18.3333H15.6665C16.2188 18.3333 16.6665 17.8856 16.6665 17.3333V16.8333C16.6665 16.7679 16.6603 16.7039 16.6483 16.642C17.6032 16.4909 18.3333 15.6641 18.3333 14.6667V10.8333V9.58332ZM17.0833 10.8333L2.91663 10.8333V14.6667C2.91663 15.0809 3.25241 15.4167 3.66663 15.4167H16.3333C16.7475 15.4167 17.0833 15.0809 17.0833 14.6667V10.8333Z"
              fill="#212121" />
            <circle cx="4.99996" cy="14.1667" r="0.833333" fill="#212121" />
            <circle cx="15" cy="14.1667" r="0.833333" fill="#212121" />
            <circle cx="14.1667" cy="5" r="0.833333" fill="#212121" />
            <circle cx="5.83333" cy="5" r="0.833333" fill="#212121" />
          </svg>
          {{ item.type }}
        </span>
      </div>
      <div class="mr-8 flex">
        <button class="flex button-outline disabled-zoom-button text-base mt-4 mb-4" disabled>
          <svg
            width="21"
            height="21"
            viewBox="0 0 20 20"
            fill="#949494"
            xmlns="http://www.w3.org/2000/svg">
            <mask
              id="mask0_584_1001"
              style="mask-type: alpha"
              maskUnits="userSpaceOnUse"
              x="0"
              y="0"
              width="20"
              height="20">
              <rect width="20" height="20" fill="#949494" />
            </mask>
            <g mask="url(#mask0_584_1001)">
              <path
                d="M10 19.125C9.764 19.125 9.559 19.0383 9.385 18.865C9.21167 18.691 9.125 18.486 9.125 18.25V17.438C7.43033 17.2433 5.96167 16.5243 4.719 15.281C3.47567 14.0383 2.75667 12.5697 2.562 10.875H1.75C1.514 10.875 1.309 10.7883 1.135 10.615C0.961667 10.441 0.875 10.236 0.875 10C0.875 9.764 0.961667 9.559 1.135 9.385C1.309 9.21167 1.514 9.125 1.75 9.125H2.562C2.75667 7.43033 3.47567 5.96167 4.719 4.719C5.96167 3.47567 7.43033 2.75667 9.125 2.562V1.75C9.125 1.514 9.21167 1.309 9.385 1.135C9.559 0.961667 9.764 0.875 10 0.875C10.236 0.875 10.441 0.961667 10.615 1.135C10.7883 1.309 10.875 1.514 10.875 1.75V2.562C12.5697 2.75667 14.0383 3.47567 15.281 4.719C16.5243 5.96167 17.2433 7.43033 17.438 9.125H18.25C18.486 9.125 18.691 9.21167 18.865 9.385C19.0383 9.559 19.125 9.764 19.125 10C19.125 10.236 19.0383 10.441 18.865 10.615C18.691 10.7883 18.486 10.875 18.25 10.875H17.438C17.2433 12.5697 16.5243 14.0383 15.281 15.281C14.0383 16.5243 12.5697 17.2433 10.875 17.438V18.25C10.875 18.486 10.7883 18.691 10.615 18.865C10.441 19.0383 10.236 19.125 10 19.125ZM10 15.729C11.5973 15.729 12.9513 15.1733 14.062 14.062C15.1733 12.9513 15.729 11.5973 15.729 10C15.729 8.40267 15.1733 7.04867 14.062 5.938C12.9513 4.82667 11.5973 4.271 10 4.271C8.40267 4.271 7.04867 4.82667 5.938 5.938C4.82667 7.04867 4.271 8.40267 4.271 10C4.271 11.5973 4.82667 12.9513 5.938 14.062C7.04867 15.1733 8.40267 15.729 10 15.729ZM10 13.396C9.06933 13.396 8.27067 13.0627 7.604 12.396C6.93733 11.7293 6.604 10.9307 6.604 10C6.604 9.06933 6.93733 8.27067 7.604 7.604C8.27067 6.93733 9.06933 6.604 10 6.604C10.9307 6.604 11.7293 6.93733 12.396 7.604C13.0627 8.27067 13.396 9.06933 13.396 10C13.396 10.9307 13.0627 11.7293 12.396 12.396C11.7293 13.0627 10.9307 13.396 10 13.396ZM10 11.646C10.4447 11.646 10.83 11.4827 11.156 11.156C11.4827 10.83 11.646 10.4447 11.646 10C11.646 9.55533 11.4827 9.17 11.156 8.844C10.83 8.51733 10.4447 8.354 10 8.354C9.55533 8.354 9.17 8.51733 8.844 8.844C8.51733 9.17 8.354 9.55533 8.354 10C8.354 10.4447 8.51733 10.83 8.844 11.156C9.17 11.4827 9.55533 11.646 10 11.646Z"
                fill="#949494" />
            </g>
          </svg>
          Zoom In
        </button>
      </div>
    </div>
    <div class="not-assigned-text">
      <span class="text-base mb-2">Not Assigned</span>
    </div>
  </div>
</div>
<div *ngIf="busData" class="w-full" [ngClass]="clicked ? 'hoverActive' : ''">
  <div class="flex flex-col px-8 py-2.5 text-dark busContainer" *ngFor="let item of busData?.items">
    <div class="flex justify-between bus-details-header">
      <div class="bus-properties">
        <h3 class="bus-name uppercase">{{ item.fleetNumber }}</h3>
        <span class="flex text-sm text-light capitalize items-center">
          <svg
            class="mr-0.5"
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <rect x="6.66663" y="11.6667" width="6.66667" height="3.33333" fill="#212121" />
            <rect x="7.5" y="4.16666" width="5" height="1.66667" fill="#212121" />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M7.66663 2.91666H12.3333C14.5089 2.91666 16.3429 4.37935 16.9056 6.37499L3.09436 6.37499C3.657 4.37935 5.491 2.91666 7.66663 2.91666ZM2.91685 7.61952L2.91663 7.66666V9.58332L17.0833 9.58332V7.66666L17.0831 7.61951C17.0558 7.62312 17.0281 7.62499 16.9999 7.62499L2.99988 7.62499C2.97173 7.62499 2.94402 7.62313 2.91685 7.61952ZM18.3333 9.58332V7.66666C18.3333 4.35296 15.647 1.66666 12.3333 1.66666H7.66663C4.35292 1.66666 1.66663 4.35296 1.66663 7.66666V9.58332V10.8333V14.6667C1.66663 15.664 2.39661 16.4908 3.35142 16.642C3.33942 16.7039 3.33313 16.7679 3.33313 16.8333V17.3333C3.33313 17.8856 3.78085 18.3333 4.33313 18.3333H6.4998C7.05208 18.3333 7.4998 17.8856 7.4998 17.3333V16.8333C7.4998 16.7765 7.49506 16.7209 7.48597 16.6667H12.5137C12.5046 16.7209 12.4999 16.7765 12.4999 16.8333V17.3333C12.4999 17.8856 12.9476 18.3333 13.4999 18.3333H15.6665C16.2188 18.3333 16.6665 17.8856 16.6665 17.3333V16.8333C16.6665 16.7679 16.6603 16.7039 16.6483 16.642C17.6032 16.4909 18.3333 15.6641 18.3333 14.6667V10.8333V9.58332ZM17.0833 10.8333L2.91663 10.8333V14.6667C2.91663 15.0809 3.25241 15.4167 3.66663 15.4167H16.3333C16.7475 15.4167 17.0833 15.0809 17.0833 14.6667V10.8333Z"
              fill="#212121" />
            <circle cx="4.99996" cy="14.1667" r="0.833333" fill="#212121" />
            <circle cx="15" cy="14.1667" r="0.833333" fill="#212121" />
            <circle cx="14.1667" cy="5" r="0.833333" fill="#212121" />
            <circle cx="5.83333" cy="5" r="0.833333" fill="#212121" />
          </svg>
          {{ item.type }}
        </span>
      </div>
      <button
        (click)="onZoomIn(item.id)"
        [ngClass]="{ 'disabled-zoom-button': !bussesOnTheMap?.includes(item.id) }"
        class="flex button-outline button-outline-zoom text-base mt-1"
        id="zoomIn">
        <svg
          width="21"
          height="21"
          viewBox="0 0 20 20"
          fill="#007AC9"
          xmlns="http://www.w3.org/2000/svg">
          <mask
            id="mask0_584_1001"
            style="mask-type: alpha"
            maskUnits="userSpaceOnUse"
            x="0"
            y="0"
            width="20"
            height="20">
            <rect width="20" height="20" fill="#007AC9" />
          </mask>
          <g mask="url(#mask0_584_1001)">
            <path
              d="M10 19.125C9.764 19.125 9.559 19.0383 9.385 18.865C9.21167 18.691 9.125 18.486 9.125 18.25V17.438C7.43033 17.2433 5.96167 16.5243 4.719 15.281C3.47567 14.0383 2.75667 12.5697 2.562 10.875H1.75C1.514 10.875 1.309 10.7883 1.135 10.615C0.961667 10.441 0.875 10.236 0.875 10C0.875 9.764 0.961667 9.559 1.135 9.385C1.309 9.21167 1.514 9.125 1.75 9.125H2.562C2.75667 7.43033 3.47567 5.96167 4.719 4.719C5.96167 3.47567 7.43033 2.75667 9.125 2.562V1.75C9.125 1.514 9.21167 1.309 9.385 1.135C9.559 0.961667 9.764 0.875 10 0.875C10.236 0.875 10.441 0.961667 10.615 1.135C10.7883 1.309 10.875 1.514 10.875 1.75V2.562C12.5697 2.75667 14.0383 3.47567 15.281 4.719C16.5243 5.96167 17.2433 7.43033 17.438 9.125H18.25C18.486 9.125 18.691 9.21167 18.865 9.385C19.0383 9.559 19.125 9.764 19.125 10C19.125 10.236 19.0383 10.441 18.865 10.615C18.691 10.7883 18.486 10.875 18.25 10.875H17.438C17.2433 12.5697 16.5243 14.0383 15.281 15.281C14.0383 16.5243 12.5697 17.2433 10.875 17.438V18.25C10.875 18.486 10.7883 18.691 10.615 18.865C10.441 19.0383 10.236 19.125 10 19.125ZM10 15.729C11.5973 15.729 12.9513 15.1733 14.062 14.062C15.1733 12.9513 15.729 11.5973 15.729 10C15.729 8.40267 15.1733 7.04867 14.062 5.938C12.9513 4.82667 11.5973 4.271 10 4.271C8.40267 4.271 7.04867 4.82667 5.938 5.938C4.82667 7.04867 4.271 8.40267 4.271 10C4.271 11.5973 4.82667 12.9513 5.938 14.062C7.04867 15.1733 8.40267 15.729 10 15.729ZM10 13.396C9.06933 13.396 8.27067 13.0627 7.604 12.396C6.93733 11.7293 6.604 10.9307 6.604 10C6.604 9.06933 6.93733 8.27067 7.604 7.604C8.27067 6.93733 9.06933 6.604 10 6.604C10.9307 6.604 11.7293 6.93733 12.396 7.604C13.0627 8.27067 13.396 9.06933 13.396 10C13.396 10.9307 13.0627 11.7293 12.396 12.396C11.7293 13.0627 10.9307 13.396 10 13.396ZM10 11.646C10.4447 11.646 10.83 11.4827 11.156 11.156C11.4827 10.83 11.646 10.4447 11.646 10C11.646 9.55533 11.4827 9.17 11.156 8.844C10.83 8.51733 10.4447 8.354 10 8.354C9.55533 8.354 9.17 8.51733 8.844 8.844C8.51733 9.17 8.354 9.55533 8.354 10C8.354 10.4447 8.51733 10.83 8.844 11.156C9.17 11.4827 9.55533 11.646 10 11.646Z"
              fill="#007AC9" />
          </g>
        </svg>
        Zoom In
      </button>
    </div>
    <div class="flex justify-between mb-1 routes-details" *ngFor="let task of item.tasks">
      <div class="flex flex-col routeNumber">
        {{ task.name }}
        <div class="flex iconsRow">
          <span class="flex text-sm text-light capitalize items-center">
            <svg
              class="mr-0.5"
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <mask
                id="mask0_725_208"
                style="mask-type: alpha"
                maskUnits="userSpaceOnUse"
                x="0"
                y="0"
                width="20"
                height="20">
                <rect width="20" height="20" fill="#D9D9D9" />
              </mask>
              <g mask="url(#mask0_725_208)">
                <path
                  d="M10 9.97901C9.05533 9.97901 8.26366 9.65968 7.625 9.02101C6.98633 8.38168 6.667 7.59001 6.667 6.64601C6.667 5.70134 6.98633 4.90968 7.625 4.27101C8.26366 3.63168 9.05533 3.31201 10 3.31201C10.9447 3.31201 11.7363 3.63168 12.375 4.27101C13.0137 4.90968 13.333 5.70134 13.333 6.64601C13.333 7.59001 13.0137 8.38168 12.375 9.02101C11.7363 9.65968 10.9447 9.97901 10 9.97901ZM14.979 16.667H5.021C4.535 16.667 4.12166 16.4967 3.781 16.156C3.441 15.816 3.271 15.403 3.271 14.917V14.271C3.271 13.785 3.396 13.3473 3.646 12.958C3.896 12.5693 4.22233 12.2777 4.625 12.083C5.47233 11.6803 6.35066 11.3713 7.26 11.156C8.17 10.9407 9.08333 10.833 10 10.833C10.9167 10.833 11.8333 10.9407 12.75 11.156C13.6667 11.3713 14.5417 11.6803 15.375 12.083C15.7777 12.2777 16.104 12.5693 16.354 12.958C16.604 13.3473 16.729 13.785 16.729 14.271V14.917C16.729 15.403 16.559 15.816 16.219 16.156C15.8783 16.4967 15.465 16.667 14.979 16.667ZM5.021 14.917H14.979V14.271C14.979 14.1183 14.9443 13.9863 14.875 13.875C14.8057 13.7637 14.7153 13.6943 14.604 13.667C13.882 13.3197 13.125 13.0523 12.333 12.865C11.5417 12.677 10.764 12.583 10 12.583C9.236 12.583 8.45833 12.6803 7.667 12.875C6.875 13.0697 6.118 13.3337 5.396 13.667C5.28466 13.7223 5.19433 13.7987 5.125 13.896C5.05566 13.9933 5.021 14.1183 5.021 14.271V14.917ZM10 8.22901C10.4587 8.22901 10.837 8.07968 11.135 7.78101C11.4337 7.48235 11.583 7.10401 11.583 6.64601C11.583 6.18735 11.4337 5.80868 11.135 5.51001C10.837 5.21135 10.4587 5.06201 10 5.06201C9.54133 5.06201 9.163 5.21135 8.865 5.51001C8.56633 5.80868 8.417 6.18735 8.417 6.64601C8.417 7.10401 8.56633 7.48235 8.865 7.78101C9.163 8.07968 9.54133 8.22901 10 8.22901Z"
                  fill="#212121" />
              </g>
            </svg>
            {{ task?.driver?.lastName }}, {{ task?.driver?.firstName }}
            <div class="ml-1" *ngIf="task?.driver?.middleName">
              {{ task?.driver?.middleName?.charAt(0) }}.
            </div>
          </span>

          <div class="ml-1 phone-icon flex flex-row">
            <svg
              class="mr-0.5"
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 21 20"
              fill="none">
              <mask
                id="mask0_2410_233"
                style="mask-type: alpha"
                maskUnits="userSpaceOnUse"
                x="0"
                y="0"
                width="21"
                height="20">
                <rect x="0.499023" width="20" height="20" fill="#D9D9D9" />
              </mask>
              <g mask="url(#mask0_2410_233)">
                <path
                  d="M17.145 17.5C15.3257 17.5 13.5654 17.104 11.864 16.312C10.162 15.5207 8.65502 14.4687 7.34302 13.156C6.03036 11.844 4.97836 10.337 4.18702 8.635C3.39502 6.93367 2.99902 5.17333 2.99902 3.354C2.99902 3.118 3.08569 2.91667 3.25902 2.75C3.43302 2.58333 3.63802 2.5 3.87402 2.5H7.33202C7.52669 2.5 7.69702 2.56267 7.84302 2.688C7.98836 2.81267 8.07502 2.97233 8.10302 3.167L8.68702 6.146C8.71436 6.32667 8.70736 6.49333 8.66602 6.646C8.62402 6.79867 8.54769 6.93067 8.43702 7.042L6.41602 9.104C6.94336 10.0487 7.64102 10.9583 8.50902 11.833C9.37702 12.7083 10.332 13.4583 11.374 14.083L13.332 12.083C13.4714 11.9443 13.6244 11.8507 13.791 11.802C13.9577 11.7533 14.138 11.743 14.332 11.771L17.332 12.396C17.5267 12.424 17.6864 12.5107 17.811 12.656C17.9364 12.802 17.999 12.9723 17.999 13.167V16.625C17.999 16.861 17.9157 17.066 17.749 17.24C17.5824 17.4133 17.381 17.5 17.145 17.5ZM5.58202 7.438L6.89502 6.125L6.54102 4.25H4.79102C4.86036 4.80533 4.95402 5.34367 5.07202 5.865C5.19002 6.38567 5.36002 6.91 5.58202 7.438ZM16.249 15.708V13.958L14.332 13.562L13.02 14.917C13.5614 15.125 14.096 15.2917 14.624 15.417C15.152 15.5417 15.6937 15.6387 16.249 15.708Z"
                  fill="#414141" />
              </g>
            </svg>
            <span class="phone-number">{{
              phoneNumber ? task?.driver?.contactPhoneNumber : "Not Available"
            }}</span>
          </div>
        </div>
      </div>
      <div class="flex flex-row">
        <div class="flex flex-col text-right mt-2 mr-4 route-time">
          <span class="text-sm">
            {{ task?.scheduledStartTime | date : "shortTime" }}-
            {{ task?.scheduledEndTime | date : "shortTime" }}
          </span>
          <span class="text-sm mt-0.5"> {{ task?.status }} </span>
        </div>
        <div class="flex mt-2">
          <button
            (click)="onViewDetailsClick()"
            class="button-outline-details button-outline text-sm"
            id="viewDetailsBtn">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="svg-icon"
              style="
                width: 1em;
                height: 1em;
                vertical-align: middle;
                fill: currentColor;
                overflow: hidden;
              "
              viewBox="0 0 1024 1024"
              version="1.1">
              <path
                d="M588.2 512L334 258c-18.8-18.8-18.8-49.2 0-67.8s49.2-18.6 68 0L690 478c18.2 18.2 18.6 47.4 1.4 66.2L402.2 834c-9.4 9.4-21.8 14-34 14s-24.6-4.6-34-14c-18.8-18.8-18.8-49.2 0-67.8l254-254.2z" />
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
